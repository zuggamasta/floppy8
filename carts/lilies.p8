pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- globals
n=0
w=0

-- for philip

function _init()
  -- allow black as color
  palt(0, false)
  -- set pink transparent flag
  palt(14, true)
  
  --dynamic positions
  pos={
    fx=64,
    fy=64,
    lax=64,
    lay=70,
    lbx=78,
    lby=50,
    flx=78,
    fly=51,
    tx=0,
    ty=0
  }
  -- initial positions / centers
  fix={
    fx=64,
    fy=64-10,
    lax=64,
    lay=70-10,
    lbx=64,
    lby=64-10,
    flx=78,
    fly=51-10,
    tx=20,
    ty=90
  }
end

function _update()
  -- update time
  n = n+0.033

  -- update and loop world
  w = w+0.033
  if w > 128 then w = 0 end

  r_center = 5
  
  -- frog position
  pos.fx = fix.fx + cos(n/12)*r_center
  pos.fy = fix.fy + sin(n/10)*r_center
  
  -- lily A position @ frog
  pos.lax = fix.lax + cos((n+0.1)/12)*r_center
  pos.lay = fix.lay + sin((n+0.1)/10)*r_center

  -- lily B position @ fkower
  pos.lbx = fix.lbx + cos(n/40)*48
  pos.lby = fix.lby + sin(n/40)*30
  -- flower
  pos.flx = pos.lbx
  pos.fly = pos.lby + cos(n/10) -4

end

function _draw()
  cls(12)
  -- dirty 2 part scrolling map
  map(0,0,
    w*-1.3,0,
    128/8,128/8-2)
  map(0,0,
    w*-1.3+128,0,
    128/8,128/8-2)
  map(0,128/8-2,
    w*-1,128-16,
    128/8,2)
  map(0,128/8-2,
    w*-1+128,128-16,
    128/8,2)

  --lily background
  spr(2,pos.lbx-16,pos.lby-8,4,2)
  --flower
  spr(6,pos.lbx-8,pos.lby-8-3,2,2)

  --lily
  spr(2,pos.lax-16,pos.lay-8,4,2)
  --frog
  spr(0,pos.fx-8,pos.fy-8,2,2)

  -- demoscene rainbow text
  for i=0,15 do
    print("still Wednesday my dude.",
      fix.tx+cos((n+i/15)/3)*3,
      fix.ty+sin((n+i/15)/4)*10,
      15-i+n*10)
  end
end


__gfx__
eee111eeee111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee7eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
ee17771ee17771eeeeeeeeeeeee11111111111eeeeeeeeeeeee7eee7e7ee7eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
e177700e177700eeeeeeeee1111bbb3bbbbbbb1111eeeeeeeee77ee7a7e77eeeeeeeeeeeeeeeeeeeeeeeeeeeeeee111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
e1777001177700eeeeee111bbbbbbbb3bbbbbbbbbb111eeeeee77ea777e77eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
ee17771bb17771eeeee1bb333bbbbbb3bbbbbbb33bbbb1eeeeee777777777eeeeeeeeeeeeeee1111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
e1b111bbbb111eeeee1bbbbbb3333b333b3bbbbbbbbbbb1eeeee77f77777eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1bbbbbbbbbbbb1eee1bbbbbbbbbbb33333333333bbbbbbb1eeeee7f7f777eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1b0bbbbbbbb0b1eee1bbbbbb33333333333bbbbb33333bb1eeeee7ffff7eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1bb00bbbb00bbb1ee1b33333bbbbbbb13b33333bbbbbbbb1eeeeee7ff77eeeeeee111eeeeeeeeeeeeeee11111111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1bb33000033bbb1ee1bbbbbbbb111bbb3b3bbbb333bbbbb1eeeeeeeffeeeeeeeeeeeee1111111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1bbbb3333bbbbbb1ee1bbbbb11ee1bbb3bb3bbbbbb33bb1eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
1bbbbb33bbbbbbb1eee1bb11eeee1bbb3bbb3bbbbbbbb1eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
133bbb13bb33bb31eeee11eeeee1bbbb3bbb3bbbbb111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
e11b33133111331eeeeeeeeeee1bbbbbbbbbb31111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee111eeee11eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
e0011101100011eeeeeeeeeeeee11111111111eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeffffeeeeeeeeeeee
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffffffffeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeffffffeeeeeeeeee
eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeffffffffffffffffffeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffffffffeeeeeeeee
eeeeeeeeeeeeeeeefeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffffffffffffffffffffffffeeeeeeeeeeeeeeeeeeeeffffffffefffffffffffffeeeeeeee
eeeeeeeeeffeefffffeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffffffffffffffffffffffffffffeeeeeeeeeeeeeeeeeffffffffffffffffffffffffeeeeeee
efffffefffffffffffeeefffeeeeeeeeeeeeeeeeeeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee
ffffffffffffffffffffffffffeeeeeeeeeeeeeeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffeeeeeffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffff33ff3f3ff3fff3ffffffffffffffffffffffffffffffffffffffffff3ffff3ffff3ffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffff3ff33f3333f33ff33ffffffffffffffffffffffffffffffffffffff333333333333fffffffff
ffffffffffffffffffffffffffffffffffffffffffff3f3f333333333333f33ff33ff3fff3fffffffffffffffffffffffffffffffff3ff3f3f3fff3333ff3fff
ffffffffffffffffffffffffffffffffffffffff3ff3f3f33f3f33fff3f3fff3333333f3f3ff3f3fffffffffffffffffffffffff3f33ff3ff3f3f3fff33333ff
__map__
0e0e0e0e0e0e0e0e0f0e0e0e0e0e1c1d1e1c1d1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e0e0e0e08090a1e1f0e0e0e0e0f0c0d0e0c0d0e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e0e0e0e180e0f1b0e0e0e0e1e1f1c1d1e1c1d1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08090e0e0e1e1f0e0e0e0e0e0e0e0e0e1c1d1e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e0f0e0e0e0e0e0e0e0e0e0e0e0e0e0e0c0d0e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1e1f0e0e0e0e0e0e08090a0b0e0e0e0e1c1d1e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e0e0e0e0e0f0e0e180e0f0f0e0e0e0f0c0d0e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e08090a1e1f0e0e0e1e1f1f0e081e1f1c1d1e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e18190e0f0e0e0e0e0e0e0e0e18191a0c0d0e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0e0f0e0f0e0f0e0f0e0f0e0f0e0f0e0f1c1d1e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0d0e0d0e1e1f0d0e0d0e1e0d0e0d0e1f0c0d0e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1d1e1d1e0d0e0d0e0d0e091d1e1d0d0e1c1d1e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08090a181d1e1d1e1d0d0e0b0d0e0d0e0a0b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
180d0e0d0d0e0d0e0b1d1e1b1d1e1d1e1a1b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
202122232425262728292a2b2c2d2e2f0e0c0d0e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
303132333435363738393a3b3c3d3e3f1e1c1d1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0d0e0c0d0e0c0d0e0c0d0e0c0d0e0c0d0e0c0d0e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1d1e1c1d1e1c1d1e1c1d1e1c1d1e1c1d1e1c1d1e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
